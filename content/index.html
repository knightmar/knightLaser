<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="./style/output.css" rel="stylesheet">
</head>
<body class="bg-[#d9e9f2] flex flex-col items-center justify-center p-4 min-h-screen gap-5">
<h1 class="text-3xl font-bold content-center text-[#1e396b]">
    KnightLaser control panel
</h1>

<div class="flex flex-col gap-5 items-center bg-[#fff] p-4 rounded-lg shadow-lg">
    <label class="rounded-lg p-4">
        Motor angle:
        <input id="nb_field" type="number" class="bg-[#d9e9f2] border rounded text-right " value="0">
    </label>
    <div class="flex gap-5">
        <button class="btn" onclick="moveMotor('X')">
            Move X motor
        </button>
        <button class="btn" onclick="moveMotor('X')">
            Move Y motor
        </button>
    </div>
</div>


<script>
    function moveMotor(motor) {
        var data = document.getElementById('nb_field').value;
        console.log(motor, data);
        fetch(window.location.href + "send_pos", {
            method: "POST",
            body: JSON.stringify({
                motor: motor,
                angle: data
            }),
            headers: {
                "Content-type": "application/json; charset=UTF-8"
            }
        });
    }
</script>

</body>
</html>